quadAvgD$High <- zmQuant[,5]
ggplot(quadAvgD)+
geom_ribbon(aes(x=year, ymin=Low, ymax=High, alpha=0.5), fill="steelblue", color=NA)+
geom_errorbar(aes(x=year, ymax=(coverAvg+coverSD), ymin=(coverAvg-coverSD)), color="grey65")+
geom_point(aes(x=year, y=coverAvg), size=4)+
geom_line(aes(x=year, y=Pred), color="white", size=1)+
theme_few()+
ylab("Cover (%)") + xlab("Year")+
#   scale_y_continuous(limits=c(0,12))+
guides(alpha=FALSE)
setwd("~/Repos/MicroMesoForecast/ipm/growth")
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!#
# Set working directory to location of this source file #
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!#
dataDir="../../speciesData/"
sppList=sort(c("PSSP","HECO","POSE","ARTR"))
alpha.effect=c(0.012,0.06,0.05,0.03) # for spp in alphabetical order
doSpp="ARTR"
climD=read.csv("../Climate.csv")
#--------------------------------------
outfile=paste("Growth_params_",doSpp,".csv",sep="")
growDfile=paste(dataDir,doSpp,"/growDnoNA.csv",sep="")
growD=read.csv(growDfile)
D=growD  #subset(growD,allEdge==0)
D$logarea.t0=log(D$area.t0)
D$logarea.t1=log(D$area.t1)
D$quad=as.character(D$quad)
climD$year=climD$year-1900
D=merge(D,climD)
D$year=as.factor(D$year)
# remove outliers (large plants that obviously do not turn into tiny plants)
tmp=which(D$quad=="Q23" & D$year==45 & D$trackID==67)
tmp=c(tmp,which(D$quad=="Q12" & D$year==55 & D$trackID==25))
tmp=c(tmp,which(D$quad=="Q26" & D$year==45 & D$trackID==73))
D=D[-tmp,]
# calculate crowding
ringD=read.csv(paste("../../speciesData/",doSpp,"/",doSpp,"_nbhood_rings.csv",sep=""))
ringD$year<-as.factor(ringD$year)
midRings <- seq(2.5,142.5,5)  # could be extracted from ringD names, hardwired here for convenience
Nrings <- length(midRings)
D<-merge(D,ringD,by.x=c("quad","year","trackID"),by.y=c("quad","year","genetID"))
D=D[order(D$X),]
dist.wts=exp(-alpha.effect[which(sppList==doSpp)]*midRings^2)
sppCols=which(substr(names(D),1,4)==doSpp);
sppData=as.matrix(D[,sppCols]);
crowd=sppData%*%dist.wts
# fit final mixed effect model
library(lme4)
# model 7 is best, but behaves poorly, use model 5
out=lmer(logarea.t1~logarea.t0+crowd+
pptLag+ppt1+TmeanSpr1+ppt2+TmeanSpr2+
(logarea.t0|year)+(1|Group),
data=D)
summary(out)
setwd("~/Repos/MicroMesoForecast/ipm/growth")
source('~/Repos/MicroMesoForecast/ipm/growth/ARTR_growth.r')
source('~/Repos/MicroMesoForecast/ipm/growth/HECO_growth.r')
source('~/Repos/MicroMesoForecast/ipm/growth/POSE_growth.r')
source('~/Repos/MicroMesoForecast/ipm/growth/PSSP_growth.r')
source('~/Repos/MicroMesoForecast/ipm/ipm_noOverlap.r')
setwd("~/Repos/MicroMesoForecast/ipm")
source('~/Repos/MicroMesoForecast/ipm/ipm_noOverlap.r')
par(mfrow=c(2,2),tcl=-0.2)
for(i in 1:Nspp) {image(sizeSave[[i]][],x=v[[i]],y=1:tlimit,
xlab="size",ylab="time",main=sppList[i]) }
setwd("~/Repos/MicroMesoForecast/ibm")
# IBM version: each "individual" is a quadrat,
# we track cover in each quadrat over time
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!#
# Set working directory to location of this source file #
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!#
#clear everything, just to be safe
rm(list=ls(all=TRUE))
#load libraries
library(reshape2)
library(plyr)
library(ggplot2)
library(ggthemes)
library(rjags)
library(coda)
doSpp="Artemisia tripartita"
# doSpp="Poa secunda"
# doSpp="Pseudoroegneria spicata"
# 1. Import and format data ------------------------------------
climD=read.csv("Climate_full.csv")
climD=subset(climD,year>1927)  # remove early years with NAs
# sum focal species cover by quad and year, make sure to get zeros
rawD=read.csv("allrecords_cover.csv")
QuadYrList=unique(rawD[,c("quad","year")],MARGIN=2)
rawD=subset(rawD, species==doSpp)
quadD=aggregate(area~quad+year,data=rawD,FUN=sum)
quadD$cover=quadD$area*100
quadD=merge(quadD,QuadYrList,all.y=T)
quadD$cover[is.na(quadD$cover)]=0  # add in zeros
# create lag cover  variable
tmp=quadD[,c("quad","year","cover")]
tmp$year=tmp$year+1
names(tmp)[3]="lag.cover"
quadD=merge(quadD,tmp,all.x=T)
#add in missing data so that each quadrat is represented each climate year, even if cover is NA
allYears <- seq(min(unique(quadD$year)), max(unique(quadD$year)), 1)
allQuads <- unique(quadD$quad)
allQuadYears <- data.frame(quad = sort(rep(allQuads, length(allYears))),
year = rep(allYears, length(allQuads)))
allD <- merge(allQuadYears, quadD, by=c("quad", "year"), all.x=T)
# merge in climate data
allD$climYear=allD$year+1900-1
allD=merge(allD,climD,by.x="climYear",by.y="year")
allD$quadNum <- as.numeric(substr(allD$quad,2,3))
# 2. Set up data structures and indexing for JAGS model ----------------
# climDs=subset(climD,year<max(allD$climYear))
clim <- allD[7:(ncol(x=allD)-1)]
coverD <- subset(allD,!is.na(cover))
timeN <- coverD$climYear-1927
quadN <- coverD$quadNum
nProc <- allD$climYear-1927
quadN <- allD$quadNum
y <- coverD$cover
numQuadsUnique <- length(unique(allD$quads))
dataJ <- list(timeN=timeN,
quadN=quadN,
nProc=length(unique(nProc)),
nQuad=length(unique(allD$quad)),
y=y,
clim=clim,
nObs=length(y))
##CHOOSE THE MODEL
modelFile <- "IdahoCoverIBM_JAGS.R"
# modelFile <- "IdahoCoverIBM_NoCLimate_JAGS.R"
jm <- jags.model(modelFile,
data=dataJ, n.chains=1, n.adapt = 1000)
update(jm, n.iter=1000)
zm <- coda.samples(jm, variable.names=c("alphaMean", "betaMean", "gammaMean"), n.iter=1000, n.thin=1)
zmStat <- summary(zm,)$stat
zmQuant <- summary(zm)$quantile
zmStat
zm <- coda.samples(jm, variable.names=c("beta"), n.iter=1000, n.thin=1)
zmStat <- summary(zm)$stat
zmStat
# IBM version: each "individual" is a quadrat,
# we track cover in each quadrat over time
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!#
# Set working directory to location of this source file #
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!#
#clear everything, just to be safe
rm(list=ls(all=TRUE))
#load libraries
library(reshape2)
library(plyr)
library(ggplot2)
library(ggthemes)
library(rjags)
library(coda)
doSpp="Artemisia tripartita"
# doSpp="Poa secunda"
# doSpp="Pseudoroegneria spicata"
# 1. Import and format data ------------------------------------
climD=read.csv("Climate_full.csv")
climD=subset(climD,year>1927)  # remove early years with NAs
# sum focal species cover by quad and year, make sure to get zeros
rawD=read.csv("allrecords_cover.csv")
QuadYrList=unique(rawD[,c("quad","year")],MARGIN=2)
rawD=subset(rawD, species==doSpp)
quadD=aggregate(area~quad+year,data=rawD,FUN=sum)
quadD$cover=quadD$area*100
quadD=merge(quadD,QuadYrList,all.y=T)
quadD$cover[is.na(quadD$cover)]=0  # add in zeros
# create lag cover  variable
tmp=quadD[,c("quad","year","cover")]
tmp$year=tmp$year+1
names(tmp)[3]="lag.cover"
quadD=merge(quadD,tmp,all.x=T)
#add in missing data so that each quadrat is represented each climate year, even if cover is NA
allYears <- seq(min(unique(quadD$year)), max(unique(quadD$year)), 1)
allQuads <- unique(quadD$quad)
allQuadYears <- data.frame(quad = sort(rep(allQuads, length(allYears))),
year = rep(allYears, length(allQuads)))
allD <- merge(allQuadYears, quadD, by=c("quad", "year"), all.x=T)
# merge in climate data
allD$climYear=allD$year+1900-1
allD=merge(allD,climD,by.x="climYear",by.y="year")
allD$quadNum <- as.numeric(substr(allD$quad,2,3))
# 2. Set up data structures and indexing for JAGS model ----------------
# climDs=subset(climD,year<max(allD$climYear))
clim <- allD[7:(ncol(x=allD)-1)]
coverD <- subset(allD,!is.na(cover))
timeN <- coverD$climYear-1927
quadN <- coverD$quadNum
nProc <- allD$climYear-1927
quadN <- allD$quadNum
y <- coverD$cover
numQuadsUnique <- length(unique(allD$quads))
dataJ <- list(timeN=timeN,
quadN=quadN,
nProc=length(unique(nProc)),
nQuad=length(unique(allD$quad)),
y=y,
clim=clim,
nObs=length(y))
##CHOOSE THE MODEL
modelFile <- "IdahoCoverIBM_JAGS.R"
# modelFile <- "IdahoCoverIBM_NoCLimate_JAGS.R"
jm <- jags.model(modelFile,
data=dataJ, n.chains=1, n.adapt = 1000)
update(jm, n.iter=1000)
zm <- coda.samples(jm, variable.names=c("beta"), n.iter=1000, n.thin=1)
zmStat <- summary(zm)$stat
zmStat
# IBM version: each "individual" is a quadrat,
# we track cover in each quadrat over time
#clear everything, just to be safe
rm(list=ls(all=TRUE))
library(truncnorm)
doSpp="Artemisia tripartita"
## 1. Import and format data ------------------------------------
setwd("/Users/atredenn/Dropbox/sagebrush_class_2013/USSES/")
climD=read.csv("Climate_full.csv")
climD=subset(climD,year>1926)  # remove early years with NAs
# sum focal species cover by quad and year, make sure to get zeros
rawD=read.csv("allrecords_cover.csv")
QuadYrList=unique(rawD[,c("quad","year")],MARGIN=2)
rawD=subset(rawD, species==doSpp)
quadD=aggregate(area~quad+year,data=rawD,FUN=sum)
quadD$cover=quadD$area*100
quadD=merge(quadD,QuadYrList,all.y=T)
quadD$cover[is.na(quadD$cover)]=0  # add in zeros
# create lag cover  variable
tmp=quadD[,c("quad","year","cover")]
tmp$year=tmp$year+1
names(tmp)[3]="lag.cover"
quadD=merge(quadD,tmp,all.x=T)
quadD=subset(quadD,!is.na(lag.cover)) # remove yrs with missing lag data
# merge in climate data
quadD$climYear=quadD$year+1900-1
quadD=merge(quadD,climD,by.x="climYear",by.y="year",all.x=T)
## 2. regressions -------------------------------
# colonization
colD<-subset(quadD,lag.cover==0)
colD$colonizes<-ifelse(colD$cover>0,1,0)
c.out<-glm(colonizes~ppt2+ppt1+TmeanSpr2+TmeanSpr1,data=colD,family="binomial")
p.col<-coef(c.out)
p.col<-c(p.col,mean(colD$cover[colD$colonizes==1])) # get avg cover of colonized cells
# survival
survD<-subset(quadD,lag.cover>0)
survD$survives<-ifelse(survD$cover>0,1,0)
s.out<-glm(survives~lag.cover+ppt2+ppt1+TmeanSpr2+TmeanSpr1,data=survD,family="binomial")
p.surv<-coef(s.out)
# not enough deaths to get good fit,
# so give arbitrarily high survival
p.surv<-c(0,10,0,0,0,0)
# growth
growD<-subset(quadD,lag.cover>0 & cover>0)
g.out<-lm(cover~lag.cover+ppt2+ppt1+TmeanSpr2+TmeanSpr1,data=growD)
g.sigma<-sd(resid(g.out)) # ignore heteroscedasticity
p.grow<-c(coef(g.out),g.sigma)
install.packages("truncnorm")
# IBM version: each "individual" is a quadrat,
# we track cover in each quadrat over time
#clear everything, just to be safe
rm(list=ls(all=TRUE))
library(truncnorm)
doSpp="Artemisia tripartita"
## 1. Import and format data ------------------------------------
setwd("/Users/atredenn/Dropbox/sagebrush_class_2013/USSES/")
climD=read.csv("Climate_full.csv")
climD=subset(climD,year>1926)  # remove early years with NAs
# sum focal species cover by quad and year, make sure to get zeros
rawD=read.csv("allrecords_cover.csv")
QuadYrList=unique(rawD[,c("quad","year")],MARGIN=2)
rawD=subset(rawD, species==doSpp)
quadD=aggregate(area~quad+year,data=rawD,FUN=sum)
quadD$cover=quadD$area*100
quadD=merge(quadD,QuadYrList,all.y=T)
quadD$cover[is.na(quadD$cover)]=0  # add in zeros
# create lag cover  variable
tmp=quadD[,c("quad","year","cover")]
tmp$year=tmp$year+1
names(tmp)[3]="lag.cover"
quadD=merge(quadD,tmp,all.x=T)
quadD=subset(quadD,!is.na(lag.cover)) # remove yrs with missing lag data
# merge in climate data
quadD$climYear=quadD$year+1900-1
quadD=merge(quadD,climD,by.x="climYear",by.y="year",all.x=T)
## 2. regressions -------------------------------
# colonization
colD<-subset(quadD,lag.cover==0)
colD$colonizes<-ifelse(colD$cover>0,1,0)
c.out<-glm(colonizes~ppt2+ppt1+TmeanSpr2+TmeanSpr1,data=colD,family="binomial")
p.col<-coef(c.out)
p.col<-c(p.col,mean(colD$cover[colD$colonizes==1])) # get avg cover of colonized cells
# survival
survD<-subset(quadD,lag.cover>0)
survD$survives<-ifelse(survD$cover>0,1,0)
s.out<-glm(survives~lag.cover+ppt2+ppt1+TmeanSpr2+TmeanSpr1,data=survD,family="binomial")
p.surv<-coef(s.out)
# not enough deaths to get good fit,
# so give arbitrarily high survival
p.surv<-c(0,10,0,0,0,0)
# growth
growD<-subset(quadD,lag.cover>0 & cover>0)
g.out<-lm(cover~lag.cover+ppt2+ppt1+TmeanSpr2+TmeanSpr1,data=growD)
g.sigma<-sd(resid(g.out)) # ignore heteroscedasticity
p.grow<-c(coef(g.out),g.sigma)
p.grow
modelFile <- "IdahoCoverIBM_JAGS_NoRandEffects.R"
jm <- jags.model(modelFile,
data=dataJ, n.chains=1, n.adapt = 1000)
update(jm, n.iter=1000)
zm <- coda.samples(jm, variable.names=c("beta"), n.iter=1000, n.thin=1)
zmStat <- summary(zm)$stat
setwd("~/Repos/MicroMesoForecast/ibm")
# IBM version: each "individual" is a quadrat,
# we track cover in each quadrat over time
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!#
# Set working directory to location of this source file #
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!#
#clear everything, just to be safe
rm(list=ls(all=TRUE))
#load libraries
library(reshape2)
library(plyr)
library(ggplot2)
library(ggthemes)
library(rjags)
library(coda)
doSpp="Artemisia tripartita"
# doSpp="Poa secunda"
# doSpp="Pseudoroegneria spicata"
# 1. Import and format data ------------------------------------
climD=read.csv("Climate_full.csv")
climD=subset(climD,year>1927)  # remove early years with NAs
# sum focal species cover by quad and year, make sure to get zeros
rawD=read.csv("allrecords_cover.csv")
QuadYrList=unique(rawD[,c("quad","year")],MARGIN=2)
rawD=subset(rawD, species==doSpp)
quadD=aggregate(area~quad+year,data=rawD,FUN=sum)
quadD$cover=quadD$area*100
quadD=merge(quadD,QuadYrList,all.y=T)
quadD$cover[is.na(quadD$cover)]=0  # add in zeros
# create lag cover  variable
tmp=quadD[,c("quad","year","cover")]
tmp$year=tmp$year+1
names(tmp)[3]="lag.cover"
quadD=merge(quadD,tmp,all.x=T)
#add in missing data so that each quadrat is represented each climate year, even if cover is NA
allYears <- seq(min(unique(quadD$year)), max(unique(quadD$year)), 1)
allQuads <- unique(quadD$quad)
allQuadYears <- data.frame(quad = sort(rep(allQuads, length(allYears))),
year = rep(allYears, length(allQuads)))
allD <- merge(allQuadYears, quadD, by=c("quad", "year"), all.x=T)
# merge in climate data
allD$climYear=allD$year+1900-1
allD=merge(allD,climD,by.x="climYear",by.y="year")
allD$quadNum <- as.numeric(substr(allD$quad,2,3))
# 2. Set up data structures and indexing for JAGS model ----------------
# climDs=subset(climD,year<max(allD$climYear))
clim <- allD[7:(ncol(x=allD)-1)]
### FOR LIKELIHOODS ###
#All cover observations
coverD <- subset(allD,!is.na(cover))
timeNcov <- coverD$climYear-1927
quadNcov <- coverD$quadNum
yCov <- coverD$cover
#Colonization observations
colD <- subset(coverD,lag.cover==0)
yCol <- ifelse(colD$cover>0,1,0)
timeNcol <- colD$climYear-1927
quadNcol <- colD$quadNum
#Survival observations
survD <- subset(coverD,lag.cover>0)
ySurv <- ifelse(survD$cover>0,1,0)
timeNsurv <- survD$climYear-1927
quadNsurv <- survD$quadNum
#Growth observations
growD <- subset(coverD,lag.cover>0 & cover>0)
yGrow <- growD$cover
timeNgrow <- growD$climYear-1927
quadNgrow <- growD$quadNum
### FOR PROCESS MODEL ###
nProc <- allD$climYear-1927
quadN <- allD$quadNum
numQuadsUnique <- length(unique(allD$quads))
dataJ <- list(timeN=timeN,
quadN=quadN,
nProc=length(unique(nProc)),
nQuad=length(unique(allD$quad)),
y=y,
clim=clim,
nObs=length(y))
##CHOOSE THE MODEL
# modelFile <- "IdahoCoverIBM_JAGS.R"
# modelFile <- "IdahoCoverIBM_NoCLimate_JAGS.R"
modelFile <- "IdahoCoverIBM_JAGS_NoRandEffects.R"
jm <- jags.model(modelFile,
data=dataJ, n.chains=1, n.adapt = 1000)
update(jm, n.iter=1000)
zm <- coda.samples(jm, variable.names=c("beta"), n.iter=1000, n.thin=1)
zmStat <- summary(zm)$stat
dataJ <- list(timeN=timeN,
quadN=quadN,
nProc=length(unique(nProc)),
nQuad=length(unique(allD$quad)),
y=y,
clim=clim,
nObs=length(y))
dataJ <- list(timeN=timeNcov,
quadN=quadNcov,
nProc=length(unique(nProc)),
nQuad=length(unique(allD$quad)),
y=yCov,
clim=clim,
nObs=length(yCov))
modelFile <- "IdahoCoverIBM_JAGS_NoRandEffects.R"
jm <- jags.model(modelFile,
data=dataJ, n.chains=1, n.adapt = 1000)
update(jm, n.iter=1000)
zm <- coda.samples(jm, variable.names=c("beta"), n.iter=1000, n.thin=1)
zmStat <- summary(zm)$stat
zmStat
log(1.2)
modelFile <- "IdahoCoverIBM_JAGS_NoRandEffects.R"
jm <- jags.model(modelFile,
data=dataJ, n.chains=1, n.adapt = 1000)
update(jm, n.iter=1000)
zm <- coda.samples(jm, variable.names=c("beta"), n.iter=1000, n.thin=1)
zmStat <- summary(zm)$stat
zmStat
# IBM version: each "individual" is a quadrat,
# we track cover in each quadrat over time
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!#
# Set working directory to location of this source file #
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!#
#clear everything, just to be safe
rm(list=ls(all=TRUE))
#load libraries
library(reshape2)
library(plyr)
library(ggplot2)
library(ggthemes)
library(rjags)
library(coda)
doSpp="Artemisia tripartita"
# doSpp="Poa secunda"
# doSpp="Pseudoroegneria spicata"
# 1. Import and format data ------------------------------------
climD=read.csv("Climate_full.csv")
climD=subset(climD,year>1927)  # remove early years with NAs
# sum focal species cover by quad and year, make sure to get zeros
rawD=read.csv("allrecords_cover.csv")
QuadYrList=unique(rawD[,c("quad","year")],MARGIN=2)
rawD=subset(rawD, species==doSpp)
quadD=aggregate(area~quad+year,data=rawD,FUN=sum)
quadD$cover=quadD$area*100
quadD=merge(quadD,QuadYrList,all.y=T)
quadD$cover[is.na(quadD$cover)]=0  # add in zeros
# create lag cover  variable
tmp=quadD[,c("quad","year","cover")]
tmp$year=tmp$year+1
names(tmp)[3]="lag.cover"
quadD=merge(quadD,tmp,all.x=T)
#add in missing data so that each quadrat is represented each climate year, even if cover is NA
allYears <- seq(min(unique(quadD$year)), max(unique(quadD$year)), 1)
allQuads <- unique(quadD$quad)
allQuadYears <- data.frame(quad = sort(rep(allQuads, length(allYears))),
year = rep(allYears, length(allQuads)))
allD <- merge(allQuadYears, quadD, by=c("quad", "year"), all.x=T)
# merge in climate data
allD$climYear=allD$year+1900-1
allD=merge(allD,climD,by.x="climYear",by.y="year")
allD$quadNum <- as.numeric(substr(allD$quad,2,3))
# 2. Set up data structures and indexing for JAGS model ----------------
# climDs=subset(climD,year<max(allD$climYear))
clim <- allD[7:(ncol(x=allD)-1)]
### FOR LIKELIHOODS ###
#All cover observations
coverD <- subset(allD,!is.na(cover))
timeNcov <- coverD$climYear-1927
quadNcov <- coverD$quadNum
yCov <- coverD$cover
#Colonization observations
colD <- subset(coverD,lag.cover==0)
yCol <- ifelse(colD$cover>0,1,0)
timeNcol <- colD$climYear-1927
quadNcol <- colD$quadNum
#Survival observations
survD <- subset(coverD,lag.cover>0)
ySurv <- ifelse(survD$cover>0,1,0)
timeNsurv <- survD$climYear-1927
quadNsurv <- survD$quadNum
#Growth observations
growD <- subset(coverD,lag.cover>0 & cover>0)
yGrow <- growD$cover
timeNgrow <- growD$climYear-1927
quadNgrow <- growD$quadNum
### FOR PROCESS MODEL ###
nProc <- allD$climYear-1927
quadN <- allD$quadNum
numQuadsUnique <- length(unique(allD$quads))
dataJ <- list(timeN=timeNcov,
quadN=quadNcov,
nProc=length(unique(nProc)),
nQuad=length(unique(allD$quad)),
y=yCov,
clim=clim,
nObs=length(yCov))
##CHOOSE THE MODEL
# modelFile <- "IdahoCoverIBM_JAGS.R"
# modelFile <- "IdahoCoverIBM_NoCLimate_JAGS.R"
modelFile <- "IdahoCoverIBM_JAGS_NoRandEffects.R"
jm <- jags.model(modelFile,
data=dataJ, n.chains=1, n.adapt = 5000)
file.choose()
